(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,n){},264:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(87),c=n.n(l),r=(n(94),n(4)),i=(n(95),n(88)),s=(n(260),n(15)),d=n(17),u=n(12);s.b.add(u.a,u.b,u.c,u.d,u.e,u.f,u.g);var m=function(e){var t=e.handleLoadCanvas,n=e.handlePrint,l=e.handleSave,c=e.colors,s=e.setColors,u=e.height,m=e.width,f=e.handleBackgroundImage,v=e.cellColor,p=e.handleChange,h=e.handleSubmit,b=(e.handleBackgroundColor,e.handleCellColor),g=Object(a.useState)(!1),E=Object(r.a)(g,2),w=E[0],y=E[1],k=Object(a.useState)(JSON.parse(JSON.stringify(c))),C=Object(r.a)(k,2),S=C[0],O=C[1],N=Object(a.useState)(-1),j=Object(r.a)(N,2),L=j[0],T=j[1],M=Object(a.useState)(""),_=Object(r.a)(M,2),I=_[0],J=_[1];Object(a.useEffect)(function(){if(-1!==L){var e=JSON.parse(JSON.stringify(S));e[L-1]={color:I,id:L},O(e),console.log(e)}},[I]);var P=function(){O(JSON.parse(JSON.stringify(c))),y(!w)},H=function(){b({color:I,id:L}),T(-1),console.log(JSON.parse(JSON.stringify(S))),s(JSON.parse(JSON.stringify(S))),y(!1)},B=function(){console.log("Editing canceled"),T(-1),y(!w)},D=o.a.createElement("div",{className:"App-Settings"},o.a.createElement("form",{id:"sizePicker"},o.a.createElement("div",{className:"form-buttons"},o.a.createElement("label",null,o.a.createElement(d.a,{icon:"arrows-alt-v"})," Height:",o.a.createElement("input",{type:"number",id:"input_height",name:"height",min:"1",value:u,onChange:p})),o.a.createElement("br",null),o.a.createElement("label",null,o.a.createElement(d.a,{icon:"arrows-alt-h"})," Width:",o.a.createElement("input",{type:"number",id:"input_width",name:"width",min:"1",value:m,onChange:p}))),o.a.createElement("div",{className:"form-buttons"},o.a.createElement("input",{type:"submit",className:"input_submit",value:"Create new canvas",onClick:h}),o.a.createElement("br",null),o.a.createElement("input",{type:"submit",className:"input_submit",value:"Save canvas",onClick:l}),o.a.createElement("br",null)),o.a.createElement("div",{className:"form-buttons"},o.a.createElement("input",{type:"submit",className:"input_submit",value:"Show",onClick:n}),o.a.createElement("br",null),o.a.createElement("input",{type:"submit",className:"input_submit",value:"Load saved canvas",onClick:t}),o.a.createElement("input",{type:"file",className:"input_submit",value:"",onChange:f}))),o.a.createElement(function(e){var t=e.colorsToRender,n=void 0===t?[]:t,a=e.colorSetter,l=void 0===a?function(e){return console.log("set color to",e)}:a,c=[];return(n.length?n:[{color:"#009688",id:1},{color:"#fff",id:2},{color:"#fff",id:3},{color:"#fff",id:4},{color:"#fff",id:5},{color:"#fff",id:6},{color:"#fff",id:7},{color:"#fff",id:8},{color:"#fff",id:9}]).forEach(function(e){var t=e.color,n=e.id;c.push(o.a.createElement("div",{key:n},o.a.createElement("div",{className:w?L===n?"colorPicker-cell color-edit-selected":"colorPicker-cell color-edit":v.id===n?"colorPicker-cell color-selected":"colorPicker-cell",style:{background:n===L?I:t},onClick:w?function(){return function(e,t){T(t),J(e)}(t,n)}:function(){return l(e)}},o.a.createElement("p",{className:"cell-num noselect"},n)),n===L&&o.a.createElement("div",{className:"sketch"},o.a.createElement(i.SketchPicker,{color:t,onChange:function(e){return J(e.hex)}})," ")))}),c.push(o.a.createElement(o.a.Fragment,{key:"edit"},!w&&o.a.createElement("div",{key:"edit",className:"colorPicker-cell utility-button",onClick:P},o.a.createElement(d.a,{icon:"pen"})))),c.push(o.a.createElement(o.a.Fragment,{key:"edit-save"},w&&o.a.createElement("div",{key:"edit-save",className:"colorPicker-cell utility-button",onClick:H},o.a.createElement(d.a,{icon:"save"})))),c.push(o.a.createElement(o.a.Fragment,{key:"edit-cancel"},w&&o.a.createElement("div",{key:"edit-cancel",className:"colorPicker-cell utility-button",onClick:B},o.a.createElement(d.a,{icon:"window-close"})))),o.a.createElement("div",{className:"colorPicker-row"},c.map(function(e){return e}))},{colorsToRender:w?S:c,colorSetter:b}));return o.a.createElement(o.a.Fragment,null,D)},f=function(e){window.addEventListener("beforeunload",function(){window.confirm()});var t=Object(a.useState)(40),n=Object(r.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(78),s=Object(r.a)(i,2),d=s[0],u=s[1],f=Object(a.useState)("#fff"),v=Object(r.a)(f,2),p=v[0],h=v[1],b=Object(a.useState)({color:"#f44336",id:1}),g=Object(r.a)(b,2),E=g[0],w=g[1],y=Object(a.useState)(!1),k=Object(r.a)(y,2),C=k[0],S=k[1],O=Object(a.useState)(!0),N=Object(r.a)(O,2),j=N[0],L=N[1],T=Object(a.useState)(""),M=Object(r.a)(T,2),_=M[0],I=M[1],J=Object(a.useState)([{color:"#009688",id:1},{color:"#fff",id:2},{color:"#fff",id:3},{color:"#fff",id:4},{color:"#fff",id:5},{color:"#fff",id:6},{color:"#fff",id:7},{color:"#fff",id:8},{color:"#fff",id:9}]),P=Object(r.a)(J,2),H=P[0],B=P[1];Object(a.useEffect)(function(){x()},[]),Object(a.useEffect)(function(){return window.addEventListener("beforeunload",D),function(){window.removeEventListener("beforeunload",D)}},[window.performance]);var D=function(e){e.preventDefault(),e.returnValue=""},x=function(e){e&&e.preventDefault();var t=document.querySelector("#pixel_canvas");if(!e||window.confirm("This will create new canvas and will remove all unsaved data, are you sure you want to continue?")){t.innerHTML="",h("#fff"),w({color:"#009688",id:1});for(var n=0;n<l;n++){var a=document.createElement("tr");a.innerHTML+="<td class='no-border'><span class='cell-num'>".concat(n+1,"</span></td>"),t.appendChild(a);for(var o=0;o<d;o++){var c=document.createElement("td");c.id="cell-".concat(n,"-").concat(o),a.appendChild(c)}}var r=document.createElement("tr");t.appendChild(r);var i=document.createElement("td");i.classList.add("no-border"),r.appendChild(i);for(var s=0;s<d;s++){var u=document.createElement("td");u.classList.add("no-border"),u.innerHTML="<span class='cell-num'>".concat(s+1,"</span>"),u.id="cell-".concat(s+1,"-").concat(s),r.appendChild(u)}}},F=function(e){var t=e.target.id;document.getElementById(t)&&String(t).startsWith("cell")&&(document.getElementById(t).style.backgroundColor=E.color,document.getElementById(t).innerHTML="<p id='ph-".concat(t,"' class='cell-num noselect'>").concat(H[E.id-1].id,"</p>")),S(!0)},A=function(){S(!1)};return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(m,{handleLoadCanvas:function(e){if(e.preventDefault(),window.confirm("This will load previously saved canvas and remove all unsaved data, are you sure you want to continue?")){var t=document.querySelector("#pixel_canvas"),n=localStorage.getItem("savedCanvas");n&&(t.innerHTML="",t.innerHTML+=n)}},handlePrint:function(e){e.preventDefault();var t=document.querySelector("#pixel_canvas");localStorage.setItem("printableCanvas",t.innerHTML),window.open("/print.html","_blank")},handleSave:function(e){if(e.preventDefault(),window.confirm("This will override the previous save, are you sure you want to save?")){var t=document.querySelector("#pixel_canvas");console.log(t.innerHTML),localStorage.setItem("savedCanvas",t.innerHTML)}},colors:H,setColors:B,height:l,width:d,cellColor:E,menuVisible:j,handleChange:function(e){var t=e.target,n=t.value;switch(t.name){case"width":u(n);break;case"height":c(n);break;default:console.log("errr")}},handleSubmit:x,handleBackgroundImage:function(e){if(e.preventDefault(),window.FileReader){var t=e.target.files[0];console.log(t);var n=new FileReader;n.onload=function(e){I(e.target.result),console.log(_)},n.readAsDataURL(t)}else window.alert("file reading not supported")},handleCellColor:function(e){w(e)},handleMenuVisible:function(){L(!j)}})),o.a.createElement("div",{className:"App-Content"},o.a.createElement("div",{className:j?"Canvas":"Canvas full-width"},o.a.createElement("table",{id:"pixel_canvas",style:{backgroundColor:p,backgroundImage:"url(".concat(_,")")},onMouseDown:F,onMouseMove:C?F:null,onMouseUp:A,onMouseLeave:A,onTouchStart:F,onTouchMove:C?F:null,onTouchEnd:A,onDoubleClick:function(e){var t=e.target.id;console.log(t[0]),"p"===t[0]&&(t=e.target.parentNode.id),document.getElementById(t).style.backgroundColor="",document.getElementById(t).innerHTML=""}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,t,n){e.exports=n(264)},94:function(e,t,n){},95:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.a8a7cefb.chunk.js.map